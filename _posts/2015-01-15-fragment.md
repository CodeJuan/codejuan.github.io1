---
layout: post
title: 真的是内存碎片吗
comments: true
---


## 背景 

|---+-|
|配置|参数|
|----|---------|
|系统|windows 32bit|
|CPU|至强4核|
|内存|4G|
|-+-|

某程序在运行过程中峰值达到1.8G，此后在申请小块内存时出现异常，此时进程只使用了900M内存。
如你所知，windows 32bit的每个进程可用虚拟内存是4G，其中内核态2G，用户态2G。异常时，进程尚有近1G的内存可用，但为什么会抛出异常呢？

猜测可能是碎片


未完待续

